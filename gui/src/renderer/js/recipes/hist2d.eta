{"vi_templatejevjreof":"{\"nodes\":[{\"x\":69,\"y\":64,\"weight\":1,\"fixed\":true,\"text\":\"init\",\"initial\":true,\"px\":69,\"py\":64},{\"x\":152,\"y\":147,\"weight\":1,\"fixed\":true,\"text\":\"coinci\",\"px\":152,\"py\":147,\"marked\":true}],\"edges\":[{\"source\":0,\"target\":0,\"text\":\"0,3\"},{\"source\":0,\"target\":1,\"text\":\"4\"},{\"source\":1,\"target\":0,\"text\":\"0,3\"}],\"usercode\":\"HISTOGRAM(h1,[(500,16,\\\"time-3000\\\"),(500,16,\\\"time-3000\\\")])\\nCOINCIDENCE(cc,2,4)\\nCLOCK(c0)\\nCLOCK(c3)\\n--0-->init:\\n    c0.stop()\\n    cc.fill(0)\\n--3-->init:\\n    c3.stop()\\n    cc.fill(1)\\n    \\ncoinci:\\n    (c0,c3).find_start(SYNC)\\n    cc.clear()\\n    #sort(\\\"stop\\\",c0,c3)\\n    h1.record(c0,c3)\"}","vi_templatejfcc5rlm":"{\"nodes\":[{\"x\":92,\"y\":71,\"fixed\":true,\"text\":\"a\",\"initial\":true,\"px\":92,\"py\":71}],\"edges\":[{\"source\":0,\"target\":0,\"text\":\"1\"}],\"usercode\":\"a:\\n    emit(3,16424)\"}","dpp_template_code":"#------IMPORTS-----\r\nimport numpy as np\r\nimport dash\r\nimport dash_core_components as dcc\r\nimport dash_html_components as html\r\nimport plotly.graph_objs as go\r\n\r\n#------ETA PROCESSING-----\r\ncutfile = eta.simple_cut(filename,4)\r\nresult = eta.run(cutfile)\r\nh1=result[\"h1\"]\r\nprint(np.max(h1))\r\n#h1=np.loadtxt(\"h1.tensor\")\r\n#np.savetxt(\"h1.tensor\",h1)\r\n\r\n\r\n#------PLOTTING-----\r\napp = dash.Dash()\r\napp.layout = html.Div(children=[\r\n    html.H1(children=expname),\r\n    dcc.Graph(\r\n        id='example-graph',\r\n        figure={\r\n            'data': [go.Heatmap(z=h1) ],\r\n            'layout': {\r\n                'width':600,\r\n                'height':600,\r\n                'xaxis' : {'title' : 'Delay sync -> D1 (ps)'},\r\n                'yaxis' : {'title' : 'Delay sync -> D2 (ps)'}\r\n            }\r\n        }\r\n    )\r\n])\r\neta.display(app)","eta_index_table":"[{\"id\":\"var_templatejgmgwmzh\",\"name\":\"filename\",\"group\":\"main\",\"info\":\"\",\"config\":\"C:/Users/zuzeng/source/repos/ETA/180621_marker_001.ptu\"},{\"id\":\"var_templatejgoxeg4e\",\"name\":\"expname\",\"group\":\"main\",\"info\":\"ali2d\",\"config\":\"hist2d\"},{\"id\":\"dpp_template_code\",\"name\":\"plotly\",\"group\":\"main\",\"info\":\"\",\"config\":\"\"},{\"id\":\"dpp_templatejgmgxm2o\",\"name\":\"bokeh\",\"group\":\"main\",\"info\":\"\",\"config\":\"\"},{\"id\":\"ri_templatejezi0bbr\",\"name\":\"TimeTagger\",\"group\":\"compile\",\"info\":\"ðŸ“¤ [0, 1]\",\"config\":\"[2,0]\"},{\"id\":\"vi_templatejevjreof\",\"name\":\"startstop\",\"group\":\"compile\",\"info\":\"ðŸ“¥ [0, 3, 4], ðŸ“¤ [4], ðŸ“Š ??? \",\"config\":\"\"},{\"id\":\"vi_templatejfcc5rlm\",\"name\":\"DelayLine\",\"group\":\"compile\",\"info\":\"ðŸ“¥ [1], ðŸ“¤ [3], ðŸ“Š ??? \",\"config\":\"\"}]","dpp_templatejgmgxm2o":"#------IMPORTS-----\r\n\r\n#------ETA PROCESSING-----\r\ncutfile = eta.simple_cut(filename,20,1)\r\nh1 = eta.run(cutfile)\r\n#h1=np.loadtxt(\"h1.tensor\")\r\n#np.savetxt(\"h1.tensor\",h1)\r\n\r\n\r\n\r\ndef app(doc):\r\n    global h1\r\n    from bokeh.layouts import column\r\n    from bokeh.models import  Slider\r\n    import bokeh.palettes\r\n    from bokeh.plotting import figure\r\n    import numpy as np\r\n    p1 = figure(x_range=(0, 10), y_range=(0, 10))\r\n    # must give a vector of image data for image parameter\r\n    p1.image(image=[h1], x=0, y=0, dw=10, dh=10,palette =bokeh.palettes.inferno(100))\r\n    def callback(attr, old, new):\r\n        print(\"callback called\")\r\n    slider = Slider(start=0, end=30, value=0, step=1, title=\"Smoothing by N Days\")\r\n    slider.on_change('value', callback)\r\n    doc.add_root(column(slider, p1))\r\n\r\n\r\n#------PLOTTING-----\r\n\r\neta.display(app)\r\n\r\n"}